(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{104:function(e,t,n){},148:function(e,t,n){"use strict";n.r(t);var r,a,c,i,o,u,s=n(1),l=n.n(s),d=n(12),f=n.n(d),j=(n(104),n(55)),h=n(24),p=n(41),b=n(14),m=n(16),g={body:"#fff",fontColor:"#000"},x={body:"#080808",fontColor:"#fff",inputColor:"#ccc"},O=Object(m.b)(r||(r=Object(h.a)(["\n\tbody {\n\t\tbackground-color: ",";\n\t}\n"])),(function(e){return e.theme.body})),v=n(56),w=n.n(v),y=n(3),I=function(){return Object(y.jsxs)("ul",{className:w.a.ul,children:[Object(y.jsx)("li",{children:Object(y.jsx)(p.b,{className:w.a.link,to:"/",children:"Home"})}),Object(y.jsx)("li",{children:Object(y.jsx)(p.b,{className:w.a.link,to:"/favorite",children:"Favorites"})})]})},k=n(21),T=m.c.div(a||(a=Object(h.a)(["\n  display: flex;\n  flex-direction: ",";\n  max-width: ",";\n  justify-content: ",";\n  align-items: ",";\n  padding: ",";\n  margin: ",";\n  height: ",";\n  border: ",";\n  border-bottom: ",";\n  border-radius: ",";\n  flex-wrap: ",";\n  overflow: ",";\n"])),(function(e){return e.dir}),(function(e){return e.maxWidth}),(function(e){return e.justify}),(function(e){return e.alignItems}),(function(e){return e.padding}),(function(e){return e.margin}),(function(e){return e.height}),(function(e){return e.border}),(function(e){return e.borderBottom}),(function(e){return e.radius}),(function(e){return e.wrap}),(function(e){return e.overflow})),z=function(e){return Object(y.jsx)(T,Object(k.a)({},e))},C=m.c.p(c||(c=Object(h.a)(["\n  font-size: ",";\n  color: ",";\n  font-weight: ",";\n  margin: ",";\n"])),(function(e){return e.size}),(function(e){return e.color}),(function(e){return e.weight}),(function(e){return e.margin?e.margin:"0"})),W=function(e){var t=e.children,n=e.size,r=e.color,a=e.weight,c=e.margin;return Object(y.jsx)(C,{size:n,color:r,weight:a,margin:c,children:t})},D=n(197),M=function(e){var t=e.setTheme;return Object(y.jsxs)(z,{justify:"space-between",alignItems:"center",padding:"0 25px",borderBottom:"1px solid #9a58b2",margin:"0 0 30px 0px",children:[Object(y.jsx)(W,{color:"#9a58b2",size:"1.5em",weight:"500",children:"Weather App"}),Object(y.jsx)(I,{}),Object(y.jsx)(D.a,{onChange:function(){return t((function(e){return!e}))},name:"checkedA",style:{color:"#9a58b2"}})]})},V=m.c.div(i||(i=Object(h.a)(["\n  display: flex;\n  flex: ",";\n  flex-direction: ",";\n  justify-content: ",";\n  align-items: ",";\n  padding: ",";\n  margin: ",";\n  height: ",";\n  width: ",";\n  border: ",";\n  border-radius: ",";\n"])),(function(e){return e.flex}),(function(e){return e.dir}),(function(e){return e.justify}),(function(e){return e.alignItems}),(function(e){return e.padding}),(function(e){return e.margin}),(function(e){return e.height}),(function(e){return e.width}),(function(e){return e}),(function(e){return e.radius})),N=function(e){return Object(y.jsx)(V,Object(k.a)({},e))},L=m.c.div(o||(o=Object(h.a)(["\n  display: flex;\n  flex-direction: ",";\n  justify-content: ",";\n  align-items: ",";\n  flex-wrap: ",";\n  padding: ",";\n  margin: ",";\n  height: ",";\n  overflow: ",";\n"])),(function(e){return e.dir}),(function(e){return e.justify}),(function(e){return e.alignItems}),(function(e){return e.wrap}),(function(e){return e.padding}),(function(e){return e.margin}),(function(e){return e.height}),(function(e){return e.overflow})),F=function(e){return Object(y.jsx)(L,Object(k.a)({},e))},A=n(62),B=n.n(A),K={isFulldate:function(e){return B()(e).format("LLL")},isDay:function(e){return B()(e).format("dddd")}},S=n(17),P=n(19),_=n(33),E=n(18),U=n.n(E),X=n(35),q=n(87),G=n.n(q),J=function(){var e=Object(X.a)(U.a.mark((function e(t,n){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G()({method:"GET",url:t,data:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),R="DvbfNw0h6dTVXujnbVXj4MZr6Eu8stph",Y=Object(_.b)("weather/getPlaces",function(){var e=Object(X.a)(U.a.mark((function e(t,n){var r,a,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,J("https://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat(R,"&q=").concat(t));case 4:return a=e.sent,c=a.data,e.abrupt("return",c);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",r(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),Z=Object(_.b)("weather/getWeather",function(){var e=Object(X.a)(U.a.mark((function e(t,n){var r,a,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,J("https://dataservice.accuweather.com/currentconditions/v1/".concat(t.Key,"?apikey=").concat(R));case 4:return a=e.sent,c=a.data,e.abrupt("return",{weather:c[0],location:t});case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",r(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),H=Object(_.b)("weather/getForecast",function(){var e=Object(X.a)(U.a.mark((function e(t,n){var r,a,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,J("https://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(t.Key,"?apikey=").concat(R));case 4:return a=e.sent,c=a.data,e.abrupt("return",c.DailyForecasts);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",r(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),$=Object(_.b)("weather/getByGeo",function(){var e=Object(X.a)(U.a.mark((function e(t,n){var r,a,c,i,o,u;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.lat,a=t.lng,c=n.rejectWithValue,i=n.dispatch,e.prev=2,e.next=5,J("https://dataservice.accuweather.com/locations/v1/cities/geoposition/search?apikey=".concat(R,"&q=").concat(r,"%2C%20").concat(a));case 5:return o=e.sent,u=o.data,i(Z(u)),i(H(u)),e.abrupt("return",u);case 12:return e.prev=12,e.t0=e.catch(2),e.abrupt("return",c(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,n){return e.apply(this,arguments)}}()),Q=n(195),ee=Object(_.c)({name:"weather",initialState:{places:[],current:{location:{},weather:{},forecast:[]},favorites:[],loading:!1,error:""},reducers:{handleFavorite:function(e,t){var n=t.payload;e.favorites.some((function(e){return e.location.Key===n.location.Key}))?e.favorites=e.favorites.filter((function(e){return e.location.Key!==n.location.Key})):e.favorites.push(Object(k.a)({id:Object(Q.a)(),locationName:n.location.LocalizedName},n))},changeCurrent:function(e,t){var n=t.payload;e.current=n}},extraReducers:(u={},Object(P.a)(u,Y.pending,(function(e){e.error="",e.loading=!0})),Object(P.a)(u,Y.fulfilled,(function(e,t){var n=t.payload;e.loading=!1,e.places=n})),Object(P.a)(u,Y.rejected,(function(e,t){var n=t.error;e.loading=!1,e.error=n.message})),Object(P.a)(u,Z.pending,(function(e){e.error="",e.loading=!0})),Object(P.a)(u,Z.fulfilled,(function(e,t){var n=t.payload;e.loading=!1,e.current.location=n.location,e.current.weather=n.weather})),Object(P.a)(u,Z.rejected,(function(e,t){var n=t.payload;e.loading=!1,e.error=n})),Object(P.a)(u,H.pending,(function(e){e.error="",e.loading=!0})),Object(P.a)(u,H.fulfilled,(function(e,t){var n=t.payload;e.loading=!1,e.current.forecast=n})),Object(P.a)(u,H.rejected,(function(e,t){var n=t.payload;e.loading=!1,e.error=n})),Object(P.a)(u,$.pending,(function(e){e.error="",e.loading=!0})),Object(P.a)(u,$.fulfilled,(function(e,t){var n=t.payload;e.loading=!1,e.current.location=n})),Object(P.a)(u,$.rejected,(function(e,t){var n=t.payload;e.loading=!1,e.error=n})),u)}),te=ee.actions,ne=te.handleFavorite,re=te.changeCurrent,ae=ee.reducer,ce=n(57),ie=n(185),oe=function(e){var t,n,r,a,c=e.current,i=e.favorites,o=Object(S.b)(),u=i.some((function(e){return e.location.Key===c.location.Key}));return Object(y.jsxs)(F,{alignItems:"center",height:"30%",style:{borderBottom:"1px solid #ccc"},children:[Object(y.jsx)(N,{flex:"5%",margin:"0 15px",children:c.weather.IsDayTime?Object(y.jsx)(ce.c,{size:"4em",color:"orange"}):Object(y.jsx)(ce.b,{size:"4em",color:"#91A3B0"})}),Object(y.jsxs)(N,{flex:"70%",dir:"column",children:[Object(y.jsx)(W,{size:".8em",margin:"10px 0",children:K.isFulldate(c.weather.LocalObservationDateTime)}),Object(y.jsx)(W,{size:"2em",color:"#9a58b2",weight:"700",children:c.location.LocalizedName}),Object(y.jsx)(W,{children:c.weather.WeatherText}),Object(y.jsxs)(W,{children:[null===(t=c.weather.Temperature)||void 0===t?void 0:t.Metric.Value,null===(n=c.weather.Temperature)||void 0===n?void 0:n.Metric.Unit," ",null===(r=c.weather.Temperature)||void 0===r?void 0:r.Imperial.Value,null===(a=c.weather.Temperature)||void 0===a?void 0:a.Imperial.Unit]})]}),Object(y.jsx)(N,{flex:"10%",justify:"flex-end",children:Object(y.jsx)(ie.a,{onClick:function(){o(ne(c))},children:Object(y.jsx)(ce.a,{color:u?"#ff0005":"#ccc",style:{cursor:"pointer"}})})})]})};function ue(e){var t=e.current;return Object(y.jsx)(F,{alignItems:"center",justify:"space-around",height:"70%",wrap:"wrap",overflow:"auto",margin:"25px 0",children:t.forecast.length>0&&t.forecast.map((function(e){return Object(y.jsxs)(N,{dir:"column",justify:"center",alignItems:"center",width:"250px",radius:"8px",margin:"10px",border:"1px solid #ccc",padding:"25px",children:[Object(y.jsx)("img",{src:"https://developer.accuweather.com/sites/default/files/".concat(e.Day.Icon<9?"0".concat(e.Day.Icon):e.Day.Icon,"-s.png"),alt:e.Day.IconPhrase}),Object(y.jsx)(W,{size:"2em",margin:"15px 0",children:K.isDay(e.Date)}),Object(y.jsx)(W,{weight:"500",size:"1.2em",children:e.Day.IconPhrase}),Object(y.jsxs)(W,{weight:"500",children:["Min: ",e.Temperature.Minimum.Value,e.Temperature.Minimum.Unit," Max: ",e.Temperature.Maximum.Value,e.Temperature.Maximum.Unit]})]},Object(Q.a)())}))})}var se,le=l.a.memo(ue),de=n(193),fe=n(194),je=n(191),he=function(){var e=Object(S.c)((function(e){return e.weather})),t=e.places,n=e.loading,r=Object(S.b)();return{places:t,loading:n,handleChange:function(){var e=Object(X.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(Y(t.target.value));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),handleSelected:function(e){r(Z(e)),r(H(e))}}},pe=Object(m.d)((function(e){var t=e.theme,n=he(),r=n.places,a=n.loading,c=n.handleChange,i=n.handleSelected;return Object(y.jsx)(fe.a,{id:"combo-box-demo",options:r||[],getOptionLabel:function(e){return e.LocalizedName},getOptionSelected:function(e,t){return e.Version===t.Version},onChange:function(e,t){return i(t)},style:{maxWidth:500,margin:"10px auto",padding:"25px "},renderInput:function(e){return Object(y.jsx)(de.a,Object(k.a)(Object(k.a)({},e),{},{label:"search",variant:"outlined",onChange:c,style:{background:t.inputColor},InputProps:Object(k.a)(Object(k.a)({},e.InputProps),{},{endAdornment:Object(y.jsxs)(l.a.Fragment,{children:[a?Object(y.jsx)(je.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})})}))}})})),be=n(89),me=n.n(be),ge=function(){return Object(y.jsx)(me.a,{type:"BallTriangle",color:"#9a58b2",height:100,width:100})},xe=n(90),Oe=function(){var e=Object(S.c)((function(e){return e.weather})),t=e.current,n=e.loading,r=e.error,a=e.favorites;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(pe,{}),Object(y.jsx)(z,{dir:"column",padding:"25px",margin:"0 auto",height:"60vh",maxWidth:"80%",border:"1px solid #9a58b2",radius:"8px",justify:"space-around",alignItems:"space-around",children:n?Object(y.jsx)("span",{style:{alignSelf:"center"},children:Object(y.jsx)(ge,{})}):Object.keys(t.location).length>0&&Object.keys(t.weather).length>0&&t.forecast.length>0?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(oe,{current:t,favorites:a}),Object(y.jsx)(le,{current:t})]}):r&&Object(y.jsx)(xe.a,{size:"4em",color:"#9a58b2",style:{alignSelf:"center"}})})]})},ve=function(){var e=Object(S.c)((function(e){return e.weather})).favorites,t=Object(S.b)(),n=Object(b.f)();return e.length>0&&Object(y.jsx)(z,{dir:"flex",padding:"25px",margin:"auto",height:"80vh",maxWidth:"80%",border:"1px solid #9a58b2",radius:"8px",wrap:"wrap",justify:"center",alignItems:"center",overflow:"auto",children:e.map((function(e){var r,a;return Object(y.jsxs)(N,{dir:"column",justify:"space-evenly",alignItems:"center",width:"250px",height:"300px",radius:"8px",margin:"10px",border:"1px solid #ccc",padding:"25px",onClick:function(){return function(e){var r=e.location,a=e.weather,c=e.forecast;t(re({location:r,weather:a,forecast:c})),n.push("/")}(e)},style:{cursor:"pointer"},children:[Object(y.jsx)(W,{size:"2em",margin:"15px 0",children:e.locationName}),Object(y.jsx)("img",{src:"https://developer.accuweather.com/sites/default/files/".concat(e.weather.WeatherIcon<9?"0".concat(e.weather.WeatherIcon):e.weather.WeatherIcon,"-s.png"),alt:e.weather.WeatherIcon}),Object(y.jsx)(W,{weight:"500",size:"1.2em",children:e.weather.WeatherText}),Object(y.jsxs)(W,{weight:"500",children:[null===(r=e.weather.Temperature)||void 0===r?void 0:r.Metric.Value,null===(a=e.weather.Temperature)||void 0===a?void 0:a.Metric.Unit]})]},e.id)}))})},we=n(192),ye=n(196),Ie=Object(we.a)((function(){return{root:{width:"30%",margin:"0 auto",position:"absolute",bottom:"50px",left:"50%",transform:"translateX(-50%)"}}}));function ke(e){var t=e.error,n=Ie(),r=Object(s.useState)(!1),a=Object(j.a)(r,2),c=a[0],i=a[1];return Object(s.useEffect)((function(){var e=function(e){return setTimeout((function(){e()}),2500)};return t?(i(!0),e((function(){i(!1)})),clearTimeout(e)):i(!1)}),[t]),Object(y.jsx)("div",{className:n.root,style:{opacity:c?"1":"0",transition:"0.3s ease",transform:c?"translateY(0)":"translateY(100px)"},children:Object(y.jsx)(ye.a,{severity:"error",children:t})})}var Te=m.c.div(se||(se=Object(h.a)(["\n  color: ",";\n"])),(function(e){return e.theme.fontColor}));var ze=function(){var e=Object(s.useState)(!1),t=Object(j.a)(e,2),n=t[0],r=t[1],a=Object(S.c)((function(e){return e.weather})).error,c=Object(S.b)();return Object(s.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){var t=e.coords.latitude,n=e.coords.longitude;c($({lat:t,lng:n}))}),(function(e){var t={AdministrativeArea:{ID:"TA",LocalizedName:"Tel Aviv"},Country:{ID:"IL",LocalizedName:"Israel"},Key:"215854",LocalizedName:"Tel Aviv",Rank:31,Type:"City",Version:1};c(Z(t)),c(H(t))}))}),[]),Object(y.jsxs)(m.a,{theme:n?x:g,children:[Object(y.jsx)(O,{}),Object(y.jsx)(Te,{children:Object(y.jsxs)(p.a,{children:[Object(y.jsx)(M,{setTheme:r}),Object(y.jsxs)(b.c,{children:[Object(y.jsx)(b.a,{exact:!0,path:"/favorite",component:ve}),Object(y.jsx)(b.a,{exact:!0,path:"*",component:Oe})]}),Object(y.jsx)(ke,{error:a})]})})]})},Ce=n(91),We=Object(Ce.a)(Object(_.d)()),De=Object(_.a)({reducer:{weather:ae,middleware:We}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));f.a.render(Object(y.jsx)(l.a.StrictMode,{children:Object(y.jsx)(S.a,{store:De,children:Object(y.jsx)(ze,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},56:function(e,t,n){e.exports={ul:"header_ul__BMjF3",link:"header_link__1ZMti"}}},[[148,1,2]]]);
//# sourceMappingURL=main.ee23af4e.chunk.js.map